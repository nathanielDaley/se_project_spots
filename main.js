!function(){"use strict";const e={formSelector:".modal__form",inputSelector:".modal__input",submitButtonSelector:".modal__submit-btn",inactiveButtonClass:"modal__submit-btn_inactive",inputErrorClass:"modal__input_type_error"},t=(e,t,r)=>{const n=e.querySelector(`#${t.id}-error`);t.classList.remove(r.inputErrorClass),n.textContent=""},r=(e,t,r)=>{(e=>e.some((e=>!e.validity.valid)))(e)?n(t,r):(t.classList.remove(r.inactiveButtonClass),t.disabled=!1)},n=(e,t)=>{e.classList.add(t.inactiveButtonClass),e.disabled=!0},o=new class{constructor(e){let{baseUrl:t,headers:r}=e;this._baseUrl=t,this._headers=r}getAppInfo(){return Promise.all([this.getInitialCards(),this.getUserInfo()])}getUserInfo(){return fetch(`${this._baseUrl}/users/me`,{headers:this._headers}).then((e=>e.ok?e.json():Promise.reject(`Error getting user info: ${e.status}`)))}editUserInfo(e){let{name:t,about:r}=e;return fetch(`${this._baseUrl}/users/me`,{method:"PATCH",headers:this._headers,body:JSON.stringify({name:t,about:r})}).then((e=>e.ok?e.json():Promise.reject(`Error editing user info: ${e.status}`)))}editUserAvatar(e){let{avatar:t}=e;return fetch(`${this._baseUrl}/users/me/avatar`,{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:t})}).then((e=>e.ok?e.json():Promise.reject(`Error editing user info: ${e.status}`)))}getInitialCards(){return fetch(`${this._baseUrl}/cards`,{headers:this._headers}).then((e=>e.ok?e.json():Promise.reject(`Error getting intital cards: ${e.status}`)))}addCard(e){let{name:t,link:r}=e;return fetch(`${this._baseUrl}/cards`,{method:"POST",headers:this._headers,body:JSON.stringify({name:t,link:r})}).then((e=>e.ok?e.json():Promise.reject(`Error adding card: ${e.status}`)))}deleteCard(e){let{id:t}=e;return fetch(`${this._baseUrl}/cards/${t}`,{method:"DELETE",headers:this._headers}).then((e=>e.ok?e.json():Promise.reject(`Error deleting card: ${e.status}`)))}}({baseUrl:"https://around-api.en.tripleten-services.com/v1",headers:{authorization:"f7822124-59b5-42fe-a8b8-2f48bd0b923b","Content-Type":"application/json"}}),a=document.querySelector(".profile__edit-btn"),s=document.querySelector(".profile__add-btn"),i=document.querySelector(".profile__name"),l=document.querySelector(".profile__description"),c=document.querySelector(".profile__avatar"),d=document.querySelector(".profile__avatar-btn"),u=document.querySelector("#edit-profile-modal"),m=document.forms["edit-profile-form"],_=m.querySelector(".modal__submit-btn"),f=u.querySelector(".modal__input#name-input"),h=u.querySelector(".modal__input#description-input"),v=document.querySelector("#edit-profile-avatar-modal"),p=document.forms["edit-profile-avatar-form"],y=v.querySelector(".modal__input#avatar-link-input"),b=document.querySelector("#new-post-modal"),S=document.forms["new-post-form"],E=b.querySelector(".modal__input#image-link-input"),q=b.querySelector(".modal__input#caption-input"),k=document.querySelector("#delete-modal"),g=k.querySelector(".modal__delete-btn"),L=k.querySelector(".modal__cancel-btn"),C=document.querySelector("#preview-modal"),U=C.querySelector(".modal__image"),$=C.querySelector(".modal__caption"),j=document.querySelectorAll(".modal__close-btn"),x=document.querySelector("#card"),A=document.querySelector(".cards__list");let P,I;function w(e){e.classList.add("modal_opened"),e.focus(),e.addEventListener("click",B),e.addEventListener("keydown",N)}function D(e){e.classList.remove("modal_opened"),e.removeEventListener("click",B),e.removeEventListener("keydown",N)}function T(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"prepend";const r=function(e){const t=x.content.querySelector(".card").cloneNode(!0),r=t.querySelector(".card__title"),n=t.querySelector(".card__image"),o=t.querySelector(".card__like-btn"),a=t.querySelector(".card__delete-btn");return n.src=e.link,n.alt=e.name,r.textContent=e.name,o.addEventListener("click",(()=>{o.classList.toggle("card__like-btn_liked")})),a.addEventListener("click",(()=>{!function(e,t){P=e,I=t._id,w(k)}(t,e)})),n.addEventListener("click",(()=>{U.src=e.link,$.textContent=e.name,U.alt=e.name,w(C)})),t}(e);A[t](r)}function B(e){e.target.classList.contains("modal_opened")&&D(e.target)}function N(e){"Escape"===e.key&&D(e.currentTarget)}var O;a.addEventListener("click",(()=>{var r,n;f.value=i.textContent,h.value=l.textContent,r=m,n=e,[f,h].forEach((e=>t(r,e,n))),w(u)})),m.addEventListener("submit",(function(t){t.preventDefault(),o.editUserInfo({name:f.value,about:h.value}).then((t=>{i.textContent=t.name,l.textContent=t.about,n(_,e),D(u)})).catch(console.error)})),d.addEventListener("click",(()=>{w(v)})),p.addEventListener("submit",(function(e){e.preventDefault(),o.editUserAvatar({avatar:y.value}).then((t=>{c.src=t.avatar,e.target.reset(),D(v)})).catch(console.error),console.log()})),s.addEventListener("click",(()=>{w(b)})),S.addEventListener("submit",(function(e){e.preventDefault(),o.addCard({name:q.value,link:E.value}).then((t=>{T({name:t.name,link:t.link}),e.target.reset(),D(b)})).catch(console.error)})),g.addEventListener("click",(function(e){e.preventDefault(),console.log("test"),o.deleteCard({id:I}).then((()=>{P.remove(),D(k)})).catch(console.error)})),L.addEventListener("click",(function(e){e.preventDefault(),D(k)})),j.forEach((e=>{const t=e.closest(".modal");e.addEventListener("click",(()=>D(t)))})),o.getAppInfo().then((e=>{let[t,r]=e;t.forEach((e=>{T(e,"append")})),i.textContent=r.name,l.textContent=r.about,c.src=r.avatar})).catch(console.error),O=e,document.querySelectorAll(O.formSelector).forEach((e=>((e,o)=>{const a=Array.from(e.querySelectorAll(o.inputSelector)),s=e.querySelector(o.submitButtonSelector);r(a,s,o),e.addEventListener("reset",(()=>{n(s,o)})),a.forEach((n=>{n.addEventListener("input",(()=>{((e,r,n)=>{r.validity.valid?t(e,r,n):((e,t,r,n)=>{const o=e.querySelector(`#${t.id}-error`);t.classList.add(n.inputErrorClass),o.textContent=r})(e,r,r.validationMessage,n)})(e,n,o),r(a,s,o)}))}))})(e,O)))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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U0FBUzNILEdBdkJNdUksRUFBQ3ZJLEVBQWFFLEtBQ3RDLE1BQU1RLEVBQVk4SCxNQUFNQyxLQUN0QnpJLEVBQVltRixpQkFBaUJqRixFQUFPUCxnQkFFaENnQixFQUFnQlgsRUFBWUksY0FBY0YsRUFBT04sc0JBRXZEYSxFQUFrQkMsRUFBV0MsRUFBZVQsR0FFNUNGLEVBQVkyRixpQkFBaUIsU0FBUyxLQUNwQzNFLEVBQWNMLEVBQWVULEVBQU8sSUFHdENRLEVBQVVpSCxTQUFTMUgsSUFDakJBLEVBQWEwRixpQkFBaUIsU0FBUyxLQWxEaEIrQyxFQUFDMUksRUFBYUMsRUFBY0MsS0FDaERELEVBQWFZLFNBQVNDLE1BUXpCZixFQUFlQyxFQUFhQyxFQUFjQyxHQXJCdkJ5SSxFQUFDM0ksRUFBYUMsRUFBYzJJLEVBQWMxSSxLQUMvRCxNQUFNQyxFQUFlSCxFQUFZSSxjQUFjLElBQUlILEVBQWFJLFlBQ2hFSixFQUFhSyxVQUFVWSxJQUFJaEIsRUFBT0osaUJBQ2xDSyxFQUFhSyxZQUFjb0ksQ0FBWSxFQVdyQ0QsQ0FDRTNJLEVBQ0FDLEVBQ0FBLEVBQWE0SSxrQkFDYjNJLEVBSUosRUF5Q0l3SSxDQUFtQjFJLEVBQWFDLEVBQWNDLEdBQzlDTyxFQUFrQkMsRUFBV0MsRUFBZVQsRUFBTyxHQUNuRCxHQUNGLEVBTWdDcUksQ0FBa0J2SSxFQUFhRSxJIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9zcG90cy8uL3NyYy9zY3JpcHRzL3ZhbGlkYXRpb24uanMiLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9zcG90cy8uL3NyYy9wYWdlcy9pbmRleC5qcyIsIndlYnBhY2s6Ly9zZV9wcm9qZWN0X3Nwb3RzLy4vc3JjL3V0aWxzL0FwaS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3Qgc2V0dGluZ3MgPSB7XG4gIGZvcm1TZWxlY3RvcjogXCIubW9kYWxfX2Zvcm1cIixcbiAgaW5wdXRTZWxlY3RvcjogXCIubW9kYWxfX2lucHV0XCIsXG4gIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiBcIi5tb2RhbF9fc3VibWl0LWJ0blwiLFxuICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiBcIm1vZGFsX19zdWJtaXQtYnRuX2luYWN0aXZlXCIsXG4gIGlucHV0RXJyb3JDbGFzczogXCJtb2RhbF9faW5wdXRfdHlwZV9lcnJvclwiLFxufTtcblxuY29uc3Qgc2hvd0lucHV0RXJyb3IgPSAoZm9ybUVsZW1lbnQsIGlucHV0RWxlbWVudCwgZXJyb3JNZXNzYWdlLCBjb25maWcpID0+IHtcbiAgY29uc3QgZXJyb3JFbGVtZW50ID0gZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihgIyR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmApO1xuICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LmFkZChjb25maWcuaW5wdXRFcnJvckNsYXNzKTtcbiAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gZXJyb3JNZXNzYWdlO1xufTtcblxuY29uc3QgaGlkZUlucHV0RXJyb3IgPSAoZm9ybUVsZW1lbnQsIGlucHV0RWxlbWVudCwgY29uZmlnKSA9PiB7XG4gIGNvbnN0IGVycm9yRWxlbWVudCA9IGZvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYCMke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgKTtcbiAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoY29uZmlnLmlucHV0RXJyb3JDbGFzcyk7XG4gIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IFwiXCI7XG59O1xuXG5jb25zdCBjaGVja0lucHV0VmFsaWRpdHkgPSAoZm9ybUVsZW1lbnQsIGlucHV0RWxlbWVudCwgY29uZmlnKSA9PiB7XG4gIGlmICghaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkKSB7XG4gICAgc2hvd0lucHV0RXJyb3IoXG4gICAgICBmb3JtRWxlbWVudCxcbiAgICAgIGlucHV0RWxlbWVudCxcbiAgICAgIGlucHV0RWxlbWVudC52YWxpZGF0aW9uTWVzc2FnZSxcbiAgICAgIGNvbmZpZ1xuICAgICk7XG4gIH0gZWxzZSB7XG4gICAgaGlkZUlucHV0RXJyb3IoZm9ybUVsZW1lbnQsIGlucHV0RWxlbWVudCwgY29uZmlnKTtcbiAgfVxufTtcblxuY29uc3QgaGFzSW52YWxpZElucHV0ID0gKGlucHV0TGlzdCkgPT4ge1xuICByZXR1cm4gaW5wdXRMaXN0LnNvbWUoKGlucHV0RWxlbWVudCkgPT4ge1xuICAgIHJldHVybiAhaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkO1xuICB9KTtcbn07XG5cbmV4cG9ydCBjb25zdCByZXNldFZhbGlkYXRpb24gPSAoZm9ybUVsZW1lbnQsIGlucHV0TGlzdCwgY29uZmlnKSA9PiB7XG4gIGlucHV0TGlzdC5mb3JFYWNoKChpbnB1dCkgPT4gaGlkZUlucHV0RXJyb3IoZm9ybUVsZW1lbnQsIGlucHV0LCBjb25maWcpKTtcbn07XG5cbmNvbnN0IHRvZ2dsZUJ1dHRvblN0YXRlID0gKGlucHV0TGlzdCwgYnV0dG9uRWxlbWVudCwgY29uZmlnKSA9PiB7XG4gIGlmIChoYXNJbnZhbGlkSW5wdXQoaW5wdXRMaXN0KSkge1xuICAgIGRpc2FibGVCdXR0b24oYnV0dG9uRWxlbWVudCwgY29uZmlnKTtcbiAgfSBlbHNlIHtcbiAgICBidXR0b25FbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoY29uZmlnLmluYWN0aXZlQnV0dG9uQ2xhc3MpO1xuICAgIGJ1dHRvbkVsZW1lbnQuZGlzYWJsZWQgPSBmYWxzZTtcbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IGRpc2FibGVCdXR0b24gPSAoYnV0dG9uRWxlbWVudCwgY29uZmlnKSA9PiB7XG4gIGJ1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LmFkZChjb25maWcuaW5hY3RpdmVCdXR0b25DbGFzcyk7XG4gIGJ1dHRvbkVsZW1lbnQuZGlzYWJsZWQgPSB0cnVlO1xufTtcblxuY29uc3Qgc2V0RXZlbnRMaXN0ZW5lcnMgPSAoZm9ybUVsZW1lbnQsIGNvbmZpZykgPT4ge1xuICBjb25zdCBpbnB1dExpc3QgPSBBcnJheS5mcm9tKFxuICAgIGZvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoY29uZmlnLmlucHV0U2VsZWN0b3IpXG4gICk7XG4gIGNvbnN0IGJ1dHRvbkVsZW1lbnQgPSBmb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKGNvbmZpZy5zdWJtaXRCdXR0b25TZWxlY3Rvcik7XG5cbiAgdG9nZ2xlQnV0dG9uU3RhdGUoaW5wdXRMaXN0LCBidXR0b25FbGVtZW50LCBjb25maWcpO1xuXG4gIGZvcm1FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNldFwiLCAoKSA9PiB7XG4gICAgZGlzYWJsZUJ1dHRvbihidXR0b25FbGVtZW50LCBjb25maWcpO1xuICB9KTtcblxuICBpbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoKSA9PiB7XG4gICAgICBjaGVja0lucHV0VmFsaWRpdHkoZm9ybUVsZW1lbnQsIGlucHV0RWxlbWVudCwgY29uZmlnKTtcbiAgICAgIHRvZ2dsZUJ1dHRvblN0YXRlKGlucHV0TGlzdCwgYnV0dG9uRWxlbWVudCwgY29uZmlnKTtcbiAgICB9KTtcbiAgfSk7XG59O1xuXG5leHBvcnQgY29uc3QgZW5hYmxlVmFsaWRhdGlvbiA9IChjb25maWcpID0+IHtcbiAgY29uc3QgZm9ybUxpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGNvbmZpZy5mb3JtU2VsZWN0b3IpO1xuXG4gIGZvcm1MaXN0LmZvckVhY2goKGZvcm1FbGVtZW50KSA9PiBzZXRFdmVudExpc3RlbmVycyhmb3JtRWxlbWVudCwgY29uZmlnKSk7XG59O1xuIiwiaW1wb3J0IFwiLi9pbmRleC5jc3NcIjtcbmltcG9ydCB7XG4gIGVuYWJsZVZhbGlkYXRpb24sXG4gIHNldHRpbmdzIGFzIHZhbGlkYXRpb25Db25maWcsXG4gIHJlc2V0VmFsaWRhdGlvbixcbiAgZGlzYWJsZUJ1dHRvbixcbn0gZnJvbSBcIi4uL3NjcmlwdHMvdmFsaWRhdGlvbi5qc1wiO1xuaW1wb3J0IEFwaSBmcm9tIFwiLi4vdXRpbHMvQXBpLmpzXCI7XG5cbi8vIEFwaSBoYW5kbGVzIGFsbCBmZXRjaCByZXF1ZXN0cyB0byB0aGUgc2VydmVyXG5jb25zdCBhcGkgPSBuZXcgQXBpKHtcbiAgYmFzZVVybDogXCJodHRwczovL2Fyb3VuZC1hcGkuZW4udHJpcGxldGVuLXNlcnZpY2VzLmNvbS92MVwiLFxuICBoZWFkZXJzOiB7XG4gICAgYXV0aG9yaXphdGlvbjogXCJmNzgyMjEyNC01OWI1LTQyZmUtYThiOC0yZjQ4YmQwYjkyM2JcIixcbiAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgfSxcbn0pO1xuXG4vLyBQcm9maWxlIGVsZW1lbnRzXG5jb25zdCBlZGl0UHJvZmlsZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fZWRpdC1idG5cIik7XG5jb25zdCBuZXdQb3N0QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19hZGQtYnRuXCIpO1xuY29uc3QgcHJvZmlsZU5hbWVMYWJlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fbmFtZVwiKTtcbmNvbnN0IHByb2ZpbGVEZXNjcmlwdGlvblBhcmFncmFwaCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gIFwiLnByb2ZpbGVfX2Rlc2NyaXB0aW9uXCJcbik7XG5jb25zdCBwcm9maWxlQXZhdGFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19hdmF0YXJcIik7XG5jb25zdCBlZGl0UHJvZmlsZUF2YXRhckJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fYXZhdGFyLWJ0blwiKTtcblxuLy9FZGl0IFByb2ZpbGUgTW9kYWwgJiBFbGVtZW50c1xuY29uc3QgZWRpdFByb2ZpbGVNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZWRpdC1wcm9maWxlLW1vZGFsXCIpO1xuY29uc3QgZWRpdFByb2ZpbGVNb2RhbEZvcm0gPSBkb2N1bWVudC5mb3Jtc1tcImVkaXQtcHJvZmlsZS1mb3JtXCJdO1xuY29uc3QgZWRpdFByb2ZpbGVTdWJtaXRCdXR0b24gPVxuICBlZGl0UHJvZmlsZU1vZGFsRm9ybS5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19zdWJtaXQtYnRuXCIpO1xuY29uc3QgZWRpdFByb2ZpbGVNb2RhbE5hbWVJbnB1dCA9IGVkaXRQcm9maWxlTW9kYWwucXVlcnlTZWxlY3RvcihcbiAgXCIubW9kYWxfX2lucHV0I25hbWUtaW5wdXRcIlxuKTtcbmNvbnN0IGVkaXRQcm9maWxlTW9kYWxEZXNjcmlwdGlvbklucHV0ID0gZWRpdFByb2ZpbGVNb2RhbC5xdWVyeVNlbGVjdG9yKFxuICBcIi5tb2RhbF9faW5wdXQjZGVzY3JpcHRpb24taW5wdXRcIlxuKTtcblxuLy9FZGl0ZSBQcm9maWxlIEF2YXRhciBNb2RhbCAmIEVsZW1lbnRzXG5jb25zdCBlZGl0UHJvZmlsZUF2YXRhck1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcbiAgXCIjZWRpdC1wcm9maWxlLWF2YXRhci1tb2RhbFwiXG4pO1xuY29uc3QgZWRpdFByb2ZpbGVBdmF0YXJNb2RhbEZvcm0gPSBkb2N1bWVudC5mb3Jtc1tcImVkaXQtcHJvZmlsZS1hdmF0YXItZm9ybVwiXTtcbmNvbnN0IGVkaXRQcm9maWxlQXZhdGFyTW9kYWxJbWFnZUlucHV0ID0gZWRpdFByb2ZpbGVBdmF0YXJNb2RhbC5xdWVyeVNlbGVjdG9yKFxuICBcIi5tb2RhbF9faW5wdXQjYXZhdGFyLWxpbmstaW5wdXRcIlxuKTtcblxuLy9OZXcgUG9zdCBNb2RhbCAmIEVsZW1lbnRzXG5jb25zdCBuZXdQb3N0TW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI25ldy1wb3N0LW1vZGFsXCIpO1xuY29uc3QgbmV3UG9zdE1vZGFsRm9ybSA9IGRvY3VtZW50LmZvcm1zW1wibmV3LXBvc3QtZm9ybVwiXTtcbmNvbnN0IG5ld1Bvc3RNb2RhbEltYWdlTGlua0lucHV0ID0gbmV3UG9zdE1vZGFsLnF1ZXJ5U2VsZWN0b3IoXG4gIFwiLm1vZGFsX19pbnB1dCNpbWFnZS1saW5rLWlucHV0XCJcbik7XG5jb25zdCBuZXdQb3N0TW9kYWxDYXB0aW9uSW5wdXQgPSBuZXdQb3N0TW9kYWwucXVlcnlTZWxlY3RvcihcbiAgXCIubW9kYWxfX2lucHV0I2NhcHRpb24taW5wdXRcIlxuKTtcblxuLy9EZWxldGUgY2FyZCBNb2RhbCAmIEVsZW1lbnRzXG5jb25zdCBkZWxldGVDYXJkTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2RlbGV0ZS1tb2RhbFwiKTtcbmNvbnN0IGRlbGV0ZUNhcmRDb25maXJtQnV0dG9uID1cbiAgZGVsZXRlQ2FyZE1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2RlbGV0ZS1idG5cIik7XG5jb25zdCBkZWxldGVDYXJkQ2FuY2VsQnV0dG9uID1cbiAgZGVsZXRlQ2FyZE1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2NhbmNlbC1idG5cIik7XG5cbi8vSW1hZ2UgTW9kYWwgJiBFbGVtZW50c1xuY29uc3QgaW1hZ2VNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJldmlldy1tb2RhbFwiKTtcbmNvbnN0IGltYWdlTW9kYWxJbWFnZSA9IGltYWdlTW9kYWwucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9faW1hZ2VcIik7XG5jb25zdCBpbWFnZU1vZGFsQ2FwdGlvbiA9IGltYWdlTW9kYWwucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fY2FwdGlvblwiKTtcblxuLy9BbGwgY2xvc2UgbW9kYWwgYnV0dG9uc1xuY29uc3QgY2xvc2VNb2RhbEJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLm1vZGFsX19jbG9zZS1idG5cIik7XG5cbi8vQ2FyZCB0ZW1wbGF0ZVxuY29uc3QgY2FyZFRlbXBsYXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNjYXJkXCIpO1xuXG4vL0NhcmRzIGNvbnRhaW5lclxuY29uc3QgY2FyZHNMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkc19fbGlzdFwiKTtcblxuLy9Vc2VkIGZvciBkZWxldGluZyBjYXJkcyBpbiBoYW5kbGVDYXJkRGVsZXRlIGZ1bmN0aW9uc1xubGV0IHNlbGVjdGVkQ2FyZCwgc2VsZWN0ZWRDYXJkSWQ7XG5cbi8vUHJlZGVmaW5lZCBmdW5jdGlvbnNcbmZ1bmN0aW9uIGdldENhcmRFbGVtZW50KGRhdGEpIHtcbiAgLy9DcmVhdGUgYSBuZXcgY2FyZCBieSBjbG9uaW5nIHRoZSB0ZW1wbGF0ZSBjYXJkXG4gIGNvbnN0IGNhcmRFbGVtZW50ID0gY2FyZFRlbXBsYXRlLmNvbnRlbnRcbiAgICAucXVlcnlTZWxlY3RvcihcIi5jYXJkXCIpXG4gICAgLmNsb25lTm9kZSh0cnVlKTtcblxuICAvL0dldCB0aGUgbmV3IGNhcmRzIGVsZW1lbnRzXG4gIGNvbnN0IGNhcmRUaXRsZSA9IGNhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fdGl0bGVcIik7XG4gIGNvbnN0IGNhcmRJbWFnZSA9IGNhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9faW1hZ2VcIik7XG4gIGNvbnN0IGNhcmRMaWtlQnV0dG9uID0gY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19saWtlLWJ0blwiKTtcbiAgY29uc3QgY2FyZERlbGV0ZUJ1dHRvbiA9IGNhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fZGVsZXRlLWJ0blwiKTtcblxuICAvL1NldCB0aGUgbmV3IGNhcmRzIGVsZW1lbnRzIGZyb20gdGhlIGRhdGEgcGFzc2VkIGludG8gdGhlIGZ1bmN0aW9uXG4gIGNhcmRJbWFnZS5zcmMgPSBkYXRhLmxpbms7XG4gIGNhcmRJbWFnZS5hbHQgPSBkYXRhLm5hbWU7XG4gIGNhcmRUaXRsZS50ZXh0Q29udGVudCA9IGRhdGEubmFtZTtcblxuICAvL01ha2UgdGhlIGxpa2UgYnV0dG9uIHN0YXRlIGNoYW5nZSB3aGVuIGNsaWNrZWRcbiAgY2FyZExpa2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICBjYXJkTGlrZUJ1dHRvbi5jbGFzc0xpc3QudG9nZ2xlKFwiY2FyZF9fbGlrZS1idG5fbGlrZWRcIik7XG4gIH0pO1xuXG4gIC8vRGVsZXRlIGNhcmQgd2hlbiBkZWxldGUgYnV0dG9uIGNsaWNrZWRcbiAgY2FyZERlbGV0ZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgIGhhbmRsZURlbGV0ZUNhcmQoY2FyZEVsZW1lbnQsIGRhdGEpO1xuICB9KTtcblxuICBjYXJkSW1hZ2UuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICBpbWFnZU1vZGFsSW1hZ2Uuc3JjID0gZGF0YS5saW5rO1xuICAgIGltYWdlTW9kYWxDYXB0aW9uLnRleHRDb250ZW50ID0gZGF0YS5uYW1lO1xuICAgIGltYWdlTW9kYWxJbWFnZS5hbHQgPSBkYXRhLm5hbWU7XG4gICAgb3Blbk1vZGFsKGltYWdlTW9kYWwpO1xuICB9KTtcblxuICByZXR1cm4gY2FyZEVsZW1lbnQ7XG59XG5cbi8vVXRpbGl0eSBmdW5jdGlvbnNcbmZ1bmN0aW9uIG9wZW5Nb2RhbChtb2RhbCkge1xuICBtb2RhbC5jbGFzc0xpc3QuYWRkKFwibW9kYWxfb3BlbmVkXCIpO1xuXG4gIG1vZGFsLmZvY3VzKCk7XG5cbiAgbW9kYWwuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGhhbmRsZU1vZGFsT3V0c2lkZUNsaWNrKTtcbiAgbW9kYWwuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgaGFuZGxlTW9kYWxFc2NhcGVLZXkpO1xufVxuXG5mdW5jdGlvbiBjbG9zZU1vZGFsKG1vZGFsKSB7XG4gIG1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoXCJtb2RhbF9vcGVuZWRcIik7XG5cbiAgbW9kYWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGhhbmRsZU1vZGFsT3V0c2lkZUNsaWNrKTtcbiAgbW9kYWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgaGFuZGxlTW9kYWxFc2NhcGVLZXkpO1xufVxuXG5mdW5jdGlvbiBhZGRDYXJkVG9DYXJkTGlzdChjYXJkLCBtZXRob2QgPSBcInByZXBlbmRcIikge1xuICBjb25zdCBjYXJkRWxlbWVudCA9IGdldENhcmRFbGVtZW50KGNhcmQpO1xuICBjYXJkc0xpc3RbbWV0aG9kXShjYXJkRWxlbWVudCk7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZU1vZGFsT3V0c2lkZUNsaWNrKGV2dCkge1xuICBpZiAoZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJtb2RhbF9vcGVuZWRcIikpIHtcbiAgICBjbG9zZU1vZGFsKGV2dC50YXJnZXQpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGhhbmRsZU1vZGFsRXNjYXBlS2V5KGV2dCkge1xuICBpZiAoZXZ0LmtleSA9PT0gXCJFc2NhcGVcIikge1xuICAgIGNsb3NlTW9kYWwoZXZ0LmN1cnJlbnRUYXJnZXQpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGhhbmRsZURlbGV0ZUNhcmQoY2FyZEVsZW1lbnQsIGRhdGEpIHtcbiAgc2VsZWN0ZWRDYXJkID0gY2FyZEVsZW1lbnQ7XG4gIHNlbGVjdGVkQ2FyZElkID0gZGF0YS5faWQ7XG5cbiAgb3Blbk1vZGFsKGRlbGV0ZUNhcmRNb2RhbCk7XG59XG5cbi8vRm9ybSBzdWJtaXQgaGFuZGxlcnNcbmZ1bmN0aW9uIGhhbmRsZUVkaXRQcm9maWxlU3VibWl0KGV2dCkge1xuICBldnQucHJldmVudERlZmF1bHQoKTtcblxuICBhcGlcbiAgICAuZWRpdFVzZXJJbmZvKHtcbiAgICAgIG5hbWU6IGVkaXRQcm9maWxlTW9kYWxOYW1lSW5wdXQudmFsdWUsXG4gICAgICBhYm91dDogZWRpdFByb2ZpbGVNb2RhbERlc2NyaXB0aW9uSW5wdXQudmFsdWUsXG4gICAgfSlcbiAgICAudGhlbigoZGF0YSkgPT4ge1xuICAgICAgcHJvZmlsZU5hbWVMYWJlbC50ZXh0Q29udGVudCA9IGRhdGEubmFtZTtcbiAgICAgIHByb2ZpbGVEZXNjcmlwdGlvblBhcmFncmFwaC50ZXh0Q29udGVudCA9IGRhdGEuYWJvdXQ7XG5cbiAgICAgIGRpc2FibGVCdXR0b24oZWRpdFByb2ZpbGVTdWJtaXRCdXR0b24sIHZhbGlkYXRpb25Db25maWcpO1xuXG4gICAgICBjbG9zZU1vZGFsKGVkaXRQcm9maWxlTW9kYWwpO1xuICAgIH0pXG4gICAgLmNhdGNoKGNvbnNvbGUuZXJyb3IpO1xufVxuXG5mdW5jdGlvbiBoYW5kbGVFZGl0UHJvZmlsZUF2YXRhclN1Ym1pdChldnQpIHtcbiAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgYXBpXG4gICAgLmVkaXRVc2VyQXZhdGFyKHsgYXZhdGFyOiBlZGl0UHJvZmlsZUF2YXRhck1vZGFsSW1hZ2VJbnB1dC52YWx1ZSB9KVxuICAgIC50aGVuKChkYXRhKSA9PiB7XG4gICAgICBwcm9maWxlQXZhdGFyLnNyYyA9IGRhdGEuYXZhdGFyO1xuXG4gICAgICBldnQudGFyZ2V0LnJlc2V0KCk7XG5cbiAgICAgIGNsb3NlTW9kYWwoZWRpdFByb2ZpbGVBdmF0YXJNb2RhbCk7XG4gICAgfSlcbiAgICAuY2F0Y2goY29uc29sZS5lcnJvcik7XG5cbiAgY29uc29sZS5sb2coKTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlTmV3UG9zdFN1Ym1pdChldnQpIHtcbiAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgYXBpXG4gICAgLmFkZENhcmQoe1xuICAgICAgbmFtZTogbmV3UG9zdE1vZGFsQ2FwdGlvbklucHV0LnZhbHVlLFxuICAgICAgbGluazogbmV3UG9zdE1vZGFsSW1hZ2VMaW5rSW5wdXQudmFsdWUsXG4gICAgfSlcbiAgICAudGhlbigoZGF0YSkgPT4ge1xuICAgICAgY29uc3QgY2FyZCA9IHtcbiAgICAgICAgbmFtZTogZGF0YS5uYW1lLFxuICAgICAgICBsaW5rOiBkYXRhLmxpbmssXG4gICAgICB9O1xuXG4gICAgICBhZGRDYXJkVG9DYXJkTGlzdChjYXJkKTtcblxuICAgICAgZXZ0LnRhcmdldC5yZXNldCgpO1xuXG4gICAgICBjbG9zZU1vZGFsKG5ld1Bvc3RNb2RhbCk7XG4gICAgfSlcbiAgICAuY2F0Y2goY29uc29sZS5lcnJvcik7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZURlbGV0ZUNhcmRTdWJtaXQoZXZ0KSB7XG4gIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gIGNvbnNvbGUubG9nKFwidGVzdFwiKTtcblxuICBhcGlcbiAgICAuZGVsZXRlQ2FyZCh7IGlkOiBzZWxlY3RlZENhcmRJZCB9KVxuICAgIC50aGVuKCgpID0+IHtcbiAgICAgIHNlbGVjdGVkQ2FyZC5yZW1vdmUoKTtcblxuICAgICAgY2xvc2VNb2RhbChkZWxldGVDYXJkTW9kYWwpO1xuICAgIH0pXG4gICAgLmNhdGNoKGNvbnNvbGUuZXJyb3IpO1xufVxuXG5mdW5jdGlvbiBoYW5kbGVEZWxldGVDYXJkQ2FuY2VsKGV2dCkge1xuICBldnQucHJldmVudERlZmF1bHQoKTtcblxuICBjbG9zZU1vZGFsKGRlbGV0ZUNhcmRNb2RhbCk7XG59XG5cbi8vRXZlbnQgbGlzdGVuZXJzXG4vL0VkaXQgUHJvZmlsZSBNb2RhbCBldmVudCBsaXN0ZW5lcnNcbmVkaXRQcm9maWxlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gIGVkaXRQcm9maWxlTW9kYWxOYW1lSW5wdXQudmFsdWUgPSBwcm9maWxlTmFtZUxhYmVsLnRleHRDb250ZW50O1xuICBlZGl0UHJvZmlsZU1vZGFsRGVzY3JpcHRpb25JbnB1dC52YWx1ZSA9XG4gICAgcHJvZmlsZURlc2NyaXB0aW9uUGFyYWdyYXBoLnRleHRDb250ZW50O1xuXG4gIHJlc2V0VmFsaWRhdGlvbihcbiAgICBlZGl0UHJvZmlsZU1vZGFsRm9ybSxcbiAgICBbZWRpdFByb2ZpbGVNb2RhbE5hbWVJbnB1dCwgZWRpdFByb2ZpbGVNb2RhbERlc2NyaXB0aW9uSW5wdXRdLFxuICAgIHZhbGlkYXRpb25Db25maWdcbiAgKTtcblxuICBvcGVuTW9kYWwoZWRpdFByb2ZpbGVNb2RhbCk7XG59KTtcbmVkaXRQcm9maWxlTW9kYWxGb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgaGFuZGxlRWRpdFByb2ZpbGVTdWJtaXQpO1xuXG4vLyBFZGl0IFByb2ZpbGUgQXZhdGFyIGV2ZW50IGxpc3RlbmVyc1xuZWRpdFByb2ZpbGVBdmF0YXJCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgb3Blbk1vZGFsKGVkaXRQcm9maWxlQXZhdGFyTW9kYWwpO1xufSk7XG5lZGl0UHJvZmlsZUF2YXRhck1vZGFsRm9ybS5hZGRFdmVudExpc3RlbmVyKFxuICBcInN1Ym1pdFwiLFxuICBoYW5kbGVFZGl0UHJvZmlsZUF2YXRhclN1Ym1pdFxuKTtcblxuLy8gTmV3IFBvc3QgTW9kYWwgZXZlbnQgbGlzdGVuZXJzXG5uZXdQb3N0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gIG9wZW5Nb2RhbChuZXdQb3N0TW9kYWwpO1xufSk7XG5uZXdQb3N0TW9kYWxGb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgaGFuZGxlTmV3UG9zdFN1Ym1pdCk7XG5cbi8vIERlbGV0ZSBDYXJkIE1vZGFsIGV2ZW50IGxpc3RlbmVyc1xuZGVsZXRlQ2FyZENvbmZpcm1CdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGhhbmRsZURlbGV0ZUNhcmRTdWJtaXQpO1xuZGVsZXRlQ2FyZENhbmNlbEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgaGFuZGxlRGVsZXRlQ2FyZENhbmNlbCk7XG5cbi8vQ2xvc2UgZXZlbnQgbGlzdGVuZXIgZm9yIGVhY2ggY2xvc2UgbW9kYWwgYnV0dG9uXG5jbG9zZU1vZGFsQnV0dG9ucy5mb3JFYWNoKChidXR0b24pID0+IHtcbiAgLy9GaW5kIHRoZSBwYXJlbnQgbW9kYWxcbiAgY29uc3QgbW9kYWwgPSBidXR0b24uY2xvc2VzdChcIi5tb2RhbFwiKTtcblxuICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IGNsb3NlTW9kYWwobW9kYWwpKTtcbn0pO1xuXG4vL3BlcmZvcm1zIGFsbCBuZXR3b3JrIGZldGNocyBhbmQgaGFuZGxlcyB0aGUgcmVzcG9uc2VzXG4vL2dldEFwcEluZm8gcmV0dXJucyBQcm9taXNlLmFsbC5cbmFwaVxuICAuZ2V0QXBwSW5mbygpXG4gIC50aGVuKChbY2FyZHMsIHVzZXJJbmZvXSkgPT4ge1xuICAgIC8vZ2VuZXJhdGVzIGFsbCBvZiB0aGUgY2FyZHMgaW50byBwaWN0dXJlIGNhcmRzIGFuZCBkaXNwbGF5cyB0aGVtIG9uIHRoZSBwYWdlXG4gICAgY2FyZHMuZm9yRWFjaCgoY2FyZCkgPT4ge1xuICAgICAgYWRkQ2FyZFRvQ2FyZExpc3QoY2FyZCwgXCJhcHBlbmRcIik7XG4gICAgfSk7XG4gICAgLy9jaGFuZ2UgdGhlIHVzZXIgaW5mb3JtYXRpb24gYmFzZWQgb24gdGhlIGRhdGEgcmV0cmlldmVkIGZyb20gdGhlIHNlcnZlclxuICAgIHByb2ZpbGVOYW1lTGFiZWwudGV4dENvbnRlbnQgPSB1c2VySW5mby5uYW1lO1xuICAgIHByb2ZpbGVEZXNjcmlwdGlvblBhcmFncmFwaC50ZXh0Q29udGVudCA9IHVzZXJJbmZvLmFib3V0O1xuICAgIHByb2ZpbGVBdmF0YXIuc3JjID0gdXNlckluZm8uYXZhdGFyO1xuICB9KVxuICAuY2F0Y2goY29uc29sZS5lcnJvcik7XG5cbi8vZW5hYmxlcyB2YWxpZGF0aW9uIG9uIHRoZSBmb3JtXG5lbmFibGVWYWxpZGF0aW9uKHZhbGlkYXRpb25Db25maWcpO1xuIiwiY2xhc3MgQXBpIHtcbiAgY29uc3RydWN0b3IoeyBiYXNlVXJsLCBoZWFkZXJzIH0pIHtcbiAgICB0aGlzLl9iYXNlVXJsID0gYmFzZVVybDtcbiAgICB0aGlzLl9oZWFkZXJzID0gaGVhZGVycztcbiAgfVxuXG4gIGdldEFwcEluZm8oKSB7XG4gICAgcmV0dXJuIFByb21pc2UuYWxsKFt0aGlzLmdldEluaXRpYWxDYXJkcygpLCB0aGlzLmdldFVzZXJJbmZvKCldKTtcbiAgfVxuXG4gIGdldFVzZXJJbmZvKCkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZWAsIHtcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgfSkudGhlbigocmVzKSA9PiB7XG4gICAgICBpZiAocmVzLm9rKSB7XG4gICAgICAgIHJldHVybiByZXMuanNvbigpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYEVycm9yIGdldHRpbmcgdXNlciBpbmZvOiAke3Jlcy5zdGF0dXN9YCk7XG4gICAgfSk7XG4gIH1cblxuICBlZGl0VXNlckluZm8oeyBuYW1lLCBhYm91dCB9KSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lYCwge1xuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBuYW1lLFxuICAgICAgICBhYm91dCxcbiAgICAgIH0pLFxuICAgIH0pLnRoZW4oKHJlcykgPT4ge1xuICAgICAgaWYgKHJlcy5vaykge1xuICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGBFcnJvciBlZGl0aW5nIHVzZXIgaW5mbzogJHtyZXMuc3RhdHVzfWApO1xuICAgIH0pO1xuICB9XG5cbiAgZWRpdFVzZXJBdmF0YXIoeyBhdmF0YXIgfSkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZS9hdmF0YXJgLCB7XG4gICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIGF2YXRhcixcbiAgICAgIH0pLFxuICAgIH0pLnRoZW4oKHJlcykgPT4ge1xuICAgICAgaWYgKHJlcy5vaykge1xuICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGBFcnJvciBlZGl0aW5nIHVzZXIgaW5mbzogJHtyZXMuc3RhdHVzfWApO1xuICAgIH0pO1xuICB9XG5cbiAgZ2V0SW5pdGlhbENhcmRzKCkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkc2AsIHtcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgfSkudGhlbigocmVzKSA9PiB7XG4gICAgICBpZiAocmVzLm9rKSB7XG4gICAgICAgIHJldHVybiByZXMuanNvbigpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYEVycm9yIGdldHRpbmcgaW50aXRhbCBjYXJkczogJHtyZXMuc3RhdHVzfWApO1xuICAgIH0pO1xuICB9XG5cbiAgYWRkQ2FyZCh7IG5hbWUsIGxpbmsgfSkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkc2AsIHtcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBuYW1lLFxuICAgICAgICBsaW5rLFxuICAgICAgfSksXG4gICAgfSkudGhlbigocmVzKSA9PiB7XG4gICAgICBpZiAocmVzLm9rKSB7XG4gICAgICAgIHJldHVybiByZXMuanNvbigpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYEVycm9yIGFkZGluZyBjYXJkOiAke3Jlcy5zdGF0dXN9YCk7XG4gICAgfSk7XG4gIH1cblxuICBkZWxldGVDYXJkKHsgaWQgfSkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkcy8ke2lkfWAsIHtcbiAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgfSkudGhlbigocmVzKSA9PiB7XG4gICAgICBpZiAocmVzLm9rKSB7XG4gICAgICAgIHJldHVybiByZXMuanNvbigpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYEVycm9yIGRlbGV0aW5nIGNhcmQ6ICR7cmVzLnN0YXR1c31gKTtcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBBcGk7XG4iXSwibmFtZXMiOlsic2V0dGluZ3MiLCJmb3JtU2VsZWN0b3IiLCJpbnB1dFNlbGVjdG9yIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiaW5wdXRFcnJvckNsYXNzIiwiaGlkZUlucHV0RXJyb3IiLCJmb3JtRWxlbWVudCIsImlucHV0RWxlbWVudCIsImNvbmZpZyIsImVycm9yRWxlbWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJpZCIsImNsYXNzTGlzdCIsInJlbW92ZSIsInRleHRDb250ZW50IiwidG9nZ2xlQnV0dG9uU3RhdGUiLCJpbnB1dExpc3QiLCJidXR0b25FbGVtZW50Iiwic29tZSIsInZhbGlkaXR5IiwidmFsaWQiLCJoYXNJbnZhbGlkSW5wdXQiLCJkaXNhYmxlQnV0dG9uIiwiZGlzYWJsZWQiLCJhZGQiLCJhcGkiLCJjb25zdHJ1Y3RvciIsIl9yZWYiLCJiYXNlVXJsIiwiaGVhZGVycyIsInRoaXMiLCJfYmFzZVVybCIsIl9oZWFkZXJzIiwiZ2V0QXBwSW5mbyIsIlByb21pc2UiLCJhbGwiLCJnZXRJbml0aWFsQ2FyZHMiLCJnZXRVc2VySW5mbyIsImZldGNoIiwidGhlbiIsInJlcyIsIm9rIiwianNvbiIsInJlamVjdCIsInN0YXR1cyIsImVkaXRVc2VySW5mbyIsIl9yZWYyIiwibmFtZSIsImFib3V0IiwibWV0aG9kIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJlZGl0VXNlckF2YXRhciIsIl9yZWYzIiwiYXZhdGFyIiwiYWRkQ2FyZCIsIl9yZWY0IiwibGluayIsImRlbGV0ZUNhcmQiLCJfcmVmNSIsImF1dGhvcml6YXRpb24iLCJlZGl0UHJvZmlsZUJ1dHRvbiIsImRvY3VtZW50IiwibmV3UG9zdEJ1dHRvbiIsInByb2ZpbGVOYW1lTGFiZWwiLCJwcm9maWxlRGVzY3JpcHRpb25QYXJhZ3JhcGgiLCJwcm9maWxlQXZhdGFyIiwiZWRpdFByb2ZpbGVBdmF0YXJCdXR0b24iLCJlZGl0UHJvZmlsZU1vZGFsIiwiZWRpdFByb2ZpbGVNb2RhbEZvcm0iLCJmb3JtcyIsImVkaXRQcm9maWxlU3VibWl0QnV0dG9uIiwiZWRpdFByb2ZpbGVNb2RhbE5hbWVJbnB1dCIsImVkaXRQcm9maWxlTW9kYWxEZXNjcmlwdGlvbklucHV0IiwiZWRpdFByb2ZpbGVBdmF0YXJNb2RhbCIsImVkaXRQcm9maWxlQXZhdGFyTW9kYWxGb3JtIiwiZWRpdFByb2ZpbGVBdmF0YXJNb2RhbEltYWdlSW5wdXQiLCJuZXdQb3N0TW9kYWwiLCJuZXdQb3N0TW9kYWxGb3JtIiwibmV3UG9zdE1vZGFsSW1hZ2VMaW5rSW5wdXQiLCJuZXdQb3N0TW9kYWxDYXB0aW9uSW5wdXQiLCJkZWxldGVDYXJkTW9kYWwiLCJkZWxldGVDYXJkQ29uZmlybUJ1dHRvbiIsImRlbGV0ZUNhcmRDYW5jZWxCdXR0b24iLCJpbWFnZU1vZGFsIiwiaW1hZ2VNb2RhbEltYWdlIiwiaW1hZ2VNb2RhbENhcHRpb24iLCJjbG9zZU1vZGFsQnV0dG9ucyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJjYXJkVGVtcGxhdGUiLCJjYXJkc0xpc3QiLCJzZWxlY3RlZENhcmQiLCJzZWxlY3RlZENhcmRJZCIsIm9wZW5Nb2RhbCIsIm1vZGFsIiwiZm9jdXMiLCJhZGRFdmVudExpc3RlbmVyIiwiaGFuZGxlTW9kYWxPdXRzaWRlQ2xpY2siLCJoYW5kbGVNb2RhbEVzY2FwZUtleSIsImNsb3NlTW9kYWwiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiYWRkQ2FyZFRvQ2FyZExpc3QiLCJjYXJkIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwidW5kZWZpbmVkIiwiY2FyZEVsZW1lbnQiLCJkYXRhIiwiY29udGVudCIsImNsb25lTm9kZSIsImNhcmRUaXRsZSIsImNhcmRJbWFnZSIsImNhcmRMaWtlQnV0dG9uIiwiY2FyZERlbGV0ZUJ1dHRvbiIsInNyYyIsImFsdCIsInRvZ2dsZSIsIl9pZCIsImhhbmRsZURlbGV0ZUNhcmQiLCJnZXRDYXJkRWxlbWVudCIsImV2dCIsInRhcmdldCIsImNvbnRhaW5zIiwia2V5IiwiY3VycmVudFRhcmdldCIsInJlc2V0VmFsaWRhdGlvbiIsInZhbHVlIiwidmFsaWRhdGlvbkNvbmZpZyIsImZvckVhY2giLCJpbnB1dCIsInByZXZlbnREZWZhdWx0IiwiY2F0Y2giLCJjb25zb2xlIiwiZXJyb3IiLCJyZXNldCIsImxvZyIsImJ1dHRvbiIsImNsb3Nlc3QiLCJjYXJkcyIsInVzZXJJbmZvIiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJBcnJheSIsImZyb20iLCJjaGVja0lucHV0VmFsaWRpdHkiLCJzaG93SW5wdXRFcnJvciIsImVycm9yTWVzc2FnZSIsInZhbGlkYXRpb25NZXNzYWdlIl0sInNvdXJjZVJvb3QiOiIifQ==